<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEMA HIGHER SECONDARY SCHOOL - Enquiry Form 2026-2027</title>

    <style>
        /* ========== HEMA SCHOOL HEADER - EXACT MATCH FROM IMAGE ========== */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            max-width: 100vw;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            background: #f5f5f5;
            padding: 0;
            font-size: 14px;
            line-height: 1.5;
        }

        /* Header with blue gradient background - matches image */
        .hema-school-header {
            background: linear-gradient(135deg, #4682B4 0%, #1E3A5F 100%);
            padding: 20px 15px;
            margin: 0;
            border-radius: 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
            color-adjust: exact;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .header-left-logo,
        .header-right-logo {
            flex-shrink: 0;
        }

        .logo-img {
            width: 90px;
            height: 90px;
            display: block;
        }

        .header-center {
            flex: 1;
            text-align: center;
            color: white;
        }

        .school-name {
            font-size: 32px;
            font-weight: bold;
            color: white;
            margin: 0 0 8px 0;
            letter-spacing: 1px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .affiliation {
            font-size: 14px;
            color: #FFD700;
            margin: 5px 0;
            font-weight: 600;
        }

        .school-info {
            font-size: 13px;
            color: white;
            margin: 3px 0;
        }

        /* Container */
        .container, .main-container, form {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Sections */
        .section {
            width: 100%;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #4682B4;
        }

        .section h2, .section h3 {
            font-size: 16px;
            color: #1E3A5F;
            margin-bottom: 12px;
            font-weight: bold;
            padding-bottom: 6px;
            border-bottom: 2px solid #E3F2FD;
        }

        /* Form rows */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 10px;
        }

        .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-group.full-width {
            flex-basis: 100%;
        }

        /* Labels */
        label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        /* Inputs */
        input[type="text"],
        input[type="date"],
        input[type="tel"],
        input[type="email"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 13px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4682B4;
            box-shadow: 0 0 0 2px rgba(70, 130, 180, 0.1);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 13px;
        }

        table th, table td {
            padding: 8px;
            border: 1px solid #ddd;
            text-align: left;
        }

        table th {
            background: #E3F2FD;
            font-weight: bold;
            color: #1E3A5F;
        }

        /* Buttons */
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin: 20px 0;
        }

        button, .btn {
            padding: 12px 24px;
            font-size: 14px;
            border-radius: 6px;
            cursor: pointer;
            border: none;
            font-weight: 600;
            min-width: 170px;
            transition: all 0.3s;
        }

        .btn-print {
            background: #2196F3;
            color: white;
        }

        .btn-submit {
            background: #4CAF50;
            color: white;
        }

        .btn-register {
            background: #FF9800;
            color: white;
        }

        .btn-reset {
            background: #9E9E9E;
            color: white;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Navigation tabs */
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .nav-tabs a, .nav-tabs button {
            flex: 1;
            min-width: 140px;
            padding: 12px 15px;
            text-align: center;
            text-decoration: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .school-name {
                font-size: 24px;
            }

            .logo-img {
                width: 70px;
                height: 70px;
            }

            .form-group {
                min-width: 100%;
                flex-basis: 100%;
            }

            button {
                width: 100%;
            }
        }

        /* ========== PRINT STYLES - A4 WITH COLORED HEADER ========== */
        @media print {
            @page {
                size: A4 portrait;
                margin: 8mm;
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background: white !important;
                font-family: Arial, Helvetica, sans-serif !important;
                font-size: 10pt !important;
                color: #000 !important;
                line-height: 1.25 !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            /* Hide navigation and buttons */
            .nav-bar, button, .btn, .no-print, .auto-save-indicator {
                display: none !important;
            }

            .container {
                max-width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }

            /* Header - compact matching page 1 */
            .hema-school-header {
                background: white !important;
                border: 1.5px solid #000 !important;
                padding: 6px 8px !important;
                margin: 0 0 8px 0 !important;
                box-shadow: none !important;
            }

            .header-content {
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                gap: 8px !important;
            }

            .logo-img {
                width: 52px !important;
                height: 52px !important;
            }

            .header-center {
                flex: 1 !important;
                text-align: center !important;
            }

            .school-name {
                font-size: 14pt !important;
                font-weight: bold !important;
                color: #000 !important;
                margin: 2px 0 !important;
                letter-spacing: 0.5px !important;
            }

            .affiliation, .school-info {
                font-size: 8pt !important;
                color: #000 !important;
                margin: 1px 0 !important;
                line-height: 1.15 !important;
            }

            /* Page title */
            h2 {
                font-size: 11pt !important;
                font-weight: bold !important;
                text-align: center !important;
                text-decoration: underline !important;
                margin: 5px 0 6px 0 !important;
                color: #000 !important;
            }

            h3 {
                font-size: 10pt !important;
                font-weight: bold !important;
                margin: 5px 0 3px 0 !important;
                color: #000 !important;
                text-align: center !important;
            }

            /* Section headers */
            .section h3, .section h4 {
                font-size: 10pt !important;
                font-weight: bold !important;
                margin: 4px 0 !important;
                color: #000 !important;
            }

            /* Hide legends */
            legend {
                display: none !important;
            }

            /* All fieldsets */
            fieldset {
                border: none !important;
                padding: 0 !important;
                margin: 0 0 4px 0 !important;
            }

            /* Form rows */
            .form-row, .row {
                display: grid !important;
                grid-template-columns: repeat(3, 1fr) !important;
                gap: 8px !important;
                margin: 4px 0 !important;
                align-items: baseline !important;
            }

            .row.half {
                grid-template-columns: repeat(2, 1fr) !important;
            }

            .row.full {
                grid-template-columns: 1fr !important;
            }

            /* Form groups */
            .form-group {
                display: block !important;
                font-size: 10pt !important;
            }

            .form-group label {
                display: inline !important;
                font-size: 10pt !important;
                font-weight: normal !important;
                color: #000 !important;
                margin-right: 4px !important;
            }

            .form-group.required label::after {
                content: "*" !important;
                color: #000 !important;
            }

            /* Inputs */
            input[type="text"], input[type="date"], input[type="tel"], 
            input[type="number"], select {
                display: inline !important;
                border: none !important;
                border-bottom: 1px solid #000 !important;
                padding: 0 2px 1px 2px !important;
                font-size: 10pt !important;
                background: white !important;
                color: #000 !important;
                width: auto !important;
                min-width: 80px !important;
            }

            input[readonly] {
                background: white !important;
            }

            /* Checkboxes */
            input[type="checkbox"], input[type="radio"] {
                width: 12px !important;
                height: 12px !important;
                margin: 0 3px 0 0 !important;
                border: 1px solid #000 !important;
                vertical-align: middle !important;
                -webkit-appearance: none !important;
                appearance: none !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            input[type="checkbox"]:checked, input[type="radio"]:checked {
                background: #000 !important;
            }

            /* Tables - compact for portrait */
            table {
                width: 100% !important;
                border-collapse: collapse !important;
                margin: 4px 0 !important;
                font-size: 9pt !important;
                page-break-inside: auto !important;
            }

            table th, table td {
                padding: 3px 4px !important;
                border: 1px solid #000 !important;
                text-align: left !important;
                font-size: 9pt !important;
                line-height: 1.2 !important;
            }

            table th {
                background: #e8e8e8 !important;
                font-weight: bold !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            table tr {
                page-break-inside: avoid !important;
            }

            /* Fee details section */
            .fee-details, .fee-calculator {
                margin: 4px 0 !important;
            }

            .fee-summary {
                margin: 4px 0 !important;
            }

            .fee-summary p {
                font-size: 10pt !important;
                margin: 2px 0 !important;
            }

            .fee-summary strong {
                font-weight: bold !important;
            }

            /* Documents section */
            .documents-section {
                margin: 4px 0 !important;
            }

            .document-checklist {
                margin: 4px 0 !important;
            }

            .document-checklist label {
                display: block !important;
                font-size: 9pt !important;
                margin: 2px 0 !important;
                line-height: 1.3 !important;
            }

            .document-item {
                display: flex !important;
                align-items: flex-start !important;
                margin: 2px 0 !important;
            }

            /* Compact spacing for portrait */
            p {
                margin: 2px 0 !important;
                font-size: 10pt !important;
            }

            /* Ensure black text */
            * {
                color: #000 !important;
            }

            /* Page break control */
            form, .section {
                page-break-inside: avoid !important;
            }

            /* Hide bottom navigation */
            div[style*="background: linear-gradient"] {
                display: none !important;
            }

            /* Optimize for half page */
            .main-container {
                max-height: 50vh !important;
            }
        }

        fieldset {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 25px;
            padding: 20px;
            background: #f9f9f9;
        }

        legend {
            font-size: 16px;
            font-weight: bold;
            color: #2874A6;
            padding: 0 10px;
        }

        .row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 15px;
        }

        .row.full {
            grid-template-columns: 1fr;
        }

        .row.half {
            grid-template-columns: 1fr 1fr;
        }

        .row.four {
            grid-template-columns: repeat(4, 1fr);
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 13px;
        }

        .form-group.required label::after {
            content: " *";
            color: red;
        }

        input, select, textarea {
            padding: 10px;
            border: 1.5px solid #ddd;
            border-radius: 5px;
            font-size: 13px;
            font-family: inherit;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 5px rgba(74, 144, 226, 0.3);
        }

        input.uppercase {
            text-transform: uppercase;
        }

        input:read-only {
            background: #f5f5f5;
            cursor: not-allowed;
        }

        .gender-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
            flex-wrap: wrap;
        }

        .gender-group label {
            display: flex;
            align-items: center;
            margin-bottom: 0;
            font-weight: normal;
        }

        .gender-group input[type="radio"] {
            margin-right: 8px;
            width: 18px;
            height: 18px;
        }

        .age-display {
            padding: 10px;
            background: #e8f0fe;
            border-radius: 5px;
            font-weight: 600;
            color: #2874A6;
            text-align: center;
            min-height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .age-info {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        .documents-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .doc-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .doc-item:hover {
            background: #e8f0fe;
            border-color: #667eea;
        }

        .doc-item input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .doc-item label {
            margin-bottom: 0;
            cursor: pointer;
            font-size: 12px;
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .fee-calculator-section {
            border: 2px solid #3498DB;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            background: #f9f9f9;
        }

        .fee-calculator-section legend {
            color: #2874A6;
            font-weight: 700;
            font-size: 18px;
            padding: 0 10px;
        }

        .fee-input-group {
            margin-bottom: 20px;
            background: white;
            padding: 15px;
            border-radius: 5px;
        }

        .fee-input-group label {
            display: block;
            margin-bottom: 8px;
            color: #2874A6;
            font-size: 15px;
        }

        .fee-input-group select {
            width: 100%;
            padding: 12px;
            font-size: 15px;
            border: 2px solid #3498DB;
            border-radius: 5px;
            background: white;
            cursor: pointer;
        }

        .sibling-checkbox label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .sibling-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            cursor: pointer;
        }

        .fee-table-container {
            margin-bottom: 20px;
            background: white;
            padding: 15px;
            border-radius: 5px;
        }

        .fee-table-container h4 {
            color: #2874A6;
            margin-bottom: 10px;
            padding: 8px;
            background: #e8f4f8;
            border-left: 4px solid #3498DB;
        }

        .fee-display-table {
            width: 100%;
            border-collapse: collapse;
        }

        .fee-display-table thead {
            background: linear-gradient(135deg, #2874A6 0%, #3498DB 100%);
            color: white;
        }

        .fee-display-table th,
        .fee-display-table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .fee-display-table tbody tr:nth-child(even) {
            background: #f8f9fa;
        }

        .fee-display-table .total-row {
            background: #D6EAF8 !important;
            font-weight: 700;
        }

        .grand-total-display {
            background: linear-gradient(135deg, #2874A6 0%, #3498DB 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .grand-total-display h3 {
            margin: 0 0 15px 0;
            text-align: center;
        }

        .grand-total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .grand-sum {
            font-size: 18px;
            border-top: 2px solid white !important;
            padding-top: 12px !important;
            margin-top: 8px;
        }

        .discount-display {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .discount-display h4 {
            color: #27AE60;
            margin-bottom: 15px;
        }

        .discount-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .discount-box {
            flex: 1;
            min-width: 200px;
            background: #E8F8F5;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #27AE60;
        }

        .discount-box strong {
            display: block;
            color: #1E8449;
            margin-bottom: 10px;
        }

        .discount-box p {
            margin: 5px 0;
            font-weight: 600;
        }

        .fee-notes-display {
            background: #FFF9E6;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #F39C12;
        }

        .fee-notes-display h4 {
            color: #D68910;
            margin-bottom: 10px;
        }

        .fee-notes-display ul {
            list-style-type: none;
            padding-left: 0;
        }

        .fee-notes-display li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .fee-notes-display li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #27AE60;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .discount-row {
                flex-direction: column;
            }

            .row, .row.half, .row.four {
                grid-template-columns: 1fr;
            }

            .documents-grid {
                grid-template-columns: 1fr;
            }
        }

        .source-group, .referred-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .source-group label, .referred-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
        }

        .source-group input[type="checkbox"],
        .referred-group input[type="radio"] {
            margin-right: 8px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .sibling-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
        }
    </style>
</head>
<body>

<!-- HEMA School Header with Blue Background -->
<div class="hema-school-header">
    <div class="header-content">
        <div class="header-left-logo">
            <img src="school-logo.png" alt="HEMA Logo" class="logo-img">
        </div>
        <div class="header-center">
            <h1 class="school-name">HEMA HIGHER SECONDARY SCHOOL</h1>
            <p class="affiliation"><strong>Affiliated to CENTRAL BOARD OF SECONDARY EDUCATION</strong></p>
            <p class="school-info">School Code: 50383 | Affiliation No.: 1030417</p>
            <p class="school-info">Govindpura, Bhopal, Madhya Pradesh, India - 462023</p>
            <p class="school-info">üìß support@hemaschool.education | üìû 0755-2457270</p>
        </div>
        <div class="header-right-logo">
            <img src="empathy-logo.png" alt="Empathy Logo" class="logo-img">
        </div>
    </div>
</div>
    <div class="container">
    <div class="form-container">

    <!-- STUDENT INFORMATION SUMMARY -->
    <div style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); padding: 25px; border-radius: 12px; margin: 25px 0; border-left: 6px solid #28a745; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h3 style="color: #2e7d32; margin: 0 0 25px 0; text-align: center; font-size: 20px; font-weight: bold;">üë®‚Äçüéì STUDENT INFORMATION (from Page 1)</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">S.No:</div>
                <div id="summary-sno" style="font-size: 18px; font-weight: bold; color: #1b5e20;">-</div>
            </div>
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">Date:</div>
                <div id="summary-date" style="font-size: 18px; font-weight: bold; color: #1b5e20;">DD/MM/YYYY</div>
            </div>
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">Student Name:</div>
                <div id="summary-student-name" style="font-size: 18px; font-weight: bold; color: #1b5e20;">-</div>
            </div>
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">Class Applied:</div>
                <div id="summary-class" style="font-size: 18px; font-weight: bold; color: #1b5e20;">-</div>
            </div>
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">Father:</div>
                <div id="summary-father" style="font-size: 18px; font-weight: bold; color: #1b5e20;">-</div>
            </div>
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #28a745; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="font-weight: 700; color: #155724; margin-bottom: 10px; font-size: 14px;">Mobile:</div>
                <div id="summary-mobile" style="font-size: 18px; font-weight: bold; color: #1b5e20;">-</div>
            </div>
        </div>
    </div>

    <form id="enquiryForm">
<!-- FEE DETAILS SECTION -->
            <fieldset class="fee-calculator-section">
                <legend>üí∞ FEE DETAILS - ACADEMIC SESSION 2026-2027</legend>

                <!-- Class Selection -->
                <div class="fee-input-group">
                    <label for="feeClass"><strong>Select Class</strong></label>
                    <select id="feeClass" onchange="calculateFees()">
                        <option value="">-- Select Class --</option>
                        <option value="nursery">Nursery / KG-I / KG-II</option>
                        <option value="1">Class I</option>
                        <option value="2">Class II</option>
                        <option value="3">Class III</option>
                        <option value="4">Class IV-V</option>
                        <option value="6">Class VI-VIII</option>
                        <option value="9">Class IX-X</option>
                        <option value="11sci">Class XI-XII Science - PCM/PCB (Optional)</option>
                        <option value="11sci2">Class XI-XII Science - Hindi/Psy</option>
                        <option value="11comm">Class XI-XII Commerce - (Optional)</option>
                        <option value="11hum">Class XI-XII Humanities</option>
                    </select>
                </div>

                <!-- Sibling Checkbox -->
                <div class="fee-input-group sibling-checkbox">
                    <label>
                        <input type="checkbox" id="siblingDiscount" onchange="calculateFees()">
                        <span><strong>2nd Child Discount</strong> - 50% off Admission Fee & Tuition Fee</span>
                    </label>
                </div>

                <!-- Fee Display Tables -->
                <div id="feeDisplay" style="display: none;">
                    <!-- Admission Fees -->
                    <div class="fee-table-container">
                        <h4>ONE-TIME ADMISSION FEES</h4>
                        <table class="fee-display-table">
                            <thead>
                            <tr>
                                <th>S.NO.</th>
                                <th>PARTICULAR</th>
                                <th style="text-align: right;">AMOUNT (‚Çπ)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>1.</td>
                                <td>ADMISSION FEE</td>
                                <td style="text-align: right;" id="admissionFee">0</td>
                            </tr>
                            <tr>
                                <td>2.</td>
                                <td>DEVELOPMENT FUND</td>
                                <td style="text-align: right;" id="developmentFund">5,000</td>
                            </tr>
                            <tr>
                                <td>3.</td>
                                <td>CAUTION MONEY DEPOSIT</td>
                                <td style="text-align: right;" id="cautionMoney">3,000</td>
                            </tr>
                            <tr class="total-row">
                                <td colspan="2"><strong>TOTAL ADMISSION FEES</strong></td>
                                <td style="text-align: right;"><strong id="totalAdmission">0</strong></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Annual Fees -->
                    <div class="fee-table-container">
                        <h4>ANNUAL FEES (9 MONTHS - APRIL TO FEBRUARY)</h4>
                        <table class="fee-display-table">
                            <thead>
                            <tr>
                                <th>S.NO.</th>
                                <th>PARTICULAR</th>
                                <th style="text-align: right;">AMOUNT (‚Çπ)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>4.</td>
                                <td>TUITION FEE (9 Installments)</td>
                                <td style="text-align: right;" id="tuitionFee">0</td>
                            </tr>
                            <tr>
                                <td>5.</td>
                                <td>ANNUAL CHARGES (9 Installments)</td>
                                <td style="text-align: right;" id="annualCharges">0</td>
                            </tr>
                            <tr class="total-row">
                                <td colspan="2"><strong>TOTAL ANNUAL FEES</strong></td>
                                <td style="text-align: right;"><strong id="totalAnnual">0</strong></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Monthly Installment -->
                    <div class="fee-table-container">
                        <h4>MONTHLY INSTALLMENT</h4>
                        <table class="fee-display-table">
                            <tbody>
                            <tr>
                                <td><strong>Monthly Payment (9 months)</strong></td>
                                <td style="text-align: right;"><strong id="monthlyInstallment">0</strong></td>
                            </tr>
                            <tr style="background: #fff9e6;">
                                <td colspan="2" style="text-align: center; font-style: italic; font-size: 13px;">üìÖ Payment Due: 5th to 15th of every month</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Grand Total -->
                    <div class="grand-total-display">
                        <h3>üéì TOTAL FEES FOR ACADEMIC YEAR 2026-2027</h3>
                        <div class="grand-total-row">
                            <span>One-Time Admission Fees</span>
                            <span id="grandAdmission">0</span>
                        </div>
                        <div class="grand-total-row">
                            <span>Annual Fees (9 Months)</span>
                            <span id="grandAnnual">0</span>
                        </div>
                        <div class="grand-total-row grand-sum">
                            <span><strong>GRAND TOTAL</strong></span>
                            <span><strong id="grandTotal">0</strong></span>
                        </div>
                    </div>

                    <!-- Discount Info -->
                    <div class="discount-display">
                        <h4>üéÅ ONE-TIME PAYMENT DISCOUNTS (on Annual Fees only)</h4>
                        <div class="discount-row">
                            <div class="discount-box">
                                <strong>8% Discount (By 30th April 2026)</strong>
                                <p>Save: ‚Çπ <span id="discount8">0</span></p>
                                <p>Pay: ‚Çπ <span id="after8Discount">0</span></p>
                            </div>
                            <div class="discount-box">
                                <strong>5% Discount (By 30th June 2026)</strong>
                                <p>Save: ‚Çπ <span id="discount5">0</span></p>
                                <p>Pay: ‚Çπ <span id="after5Discount">0</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Important Notes -->
                    <div class="fee-notes-display">
                        <h4>üìå IMPORTANT NOTES</h4>
                        <ul>
                            <li>Registration Fee: ‚Çπ1,500/- (Non-refundable)</li>
                            <li>Sibling Discount: 50% on Admission & Tuition for 2nd child</li>
                            <li>Late Payment: ‚Çπ10/day fine after due date</li>
                            <li>Caution Money: Refundable at TC issuance</li>
                        </ul>
                    </div>
                </div>
            </fieldset>

            <!-- REQUIRED DOCUMENTS -->
            <fieldset>
                <legend>üìÑ REQUIRED DOCUMENTS CHECKLIST</legend>
                <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Please check the documents that will be provided at the time of admission</p>

                <div class="documents-grid">
                    <div class="doc-item">
                        <input type="checkbox" id="doc1" name="doc1" value="Birth Certificate">
                        <label for="doc1">Birth Certificate (Original + Copy)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc2" name="doc2" value="Aadhaar Card">
                        <label for="doc2">Aadhaar Card / Passport</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc3" name="doc3" value="Transfer Certificate">
                        <label for="doc3">Transfer Certificate (TC)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc4" name="doc4" value="Mark Sheet">
                        <label for="doc4">Mark Sheet (Previous Class)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc5" name="doc5" value="Character Certificate">
                        <label for="doc5">Character Certificate</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc6" name="doc6" value="Vaccination Certificate">
                        <label for="doc6">Vaccination Certificate</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc7" name="doc7" value="Photographs">
                        <label for="doc7">Passport Photos (4 copies 4x6)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc8" name="doc8" value="Parent ID">
                        <label for="doc8">Parent ID Proof (Both)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc9" name="doc9" value="Address Proof">
                        <label for="doc9">Address Proof (Electricity/Rent)</label>
                    </div>
                    <div class="doc-item">
                        <input type="checkbox" id="doc10" name="doc10" value="Medical Certificate">
                        <label for="doc10">Medical Certificate (Optional)</label>
                    </div>
                </div>
            </fieldset>

            <!-- BUTTONS -->
            <div class="buttons no-print">
                <button type="button" onclick="printForm()" class="btn-print">üñ®Ô∏è PRINT / SAVE AS PDF</button>
                <button type="button" onclick="saveEnquiry()" class="btn-submit">üíæ SAVE ENQUIRY</button>
                <button type="button" onclick="proceedToRegistration()" class="btn-register">‚û°Ô∏è PROCEED TO REGISTRATION</button>
                <button type="reset" class="btn-reset">üîÑ CLEAR FORM</button>
            </div>
        

    <!-- PAGE 2 NAVIGATION -->
    <div style="text-align: center; margin: 30px 0; padding: 25px; background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h3 style="color: #2e7d32; margin: 0 0 20px 0; font-size: 20px; font-weight: bold;">‚úÖ Page 2 of 2 - Review & Submit</h3>
        <button type="button" onclick="window.location.href='enquiry-page1-COMPLETE.html'" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); color: white; padding: 14px 35px; font-size: 15px; border: none; border-radius: 20px; cursor: pointer; margin-right: 20px; font-weight: bold; box-shadow: 0 4px 10px rgba(255,152,0,0.3);">
            ‚¨ÖÔ∏è PREVIOUS: PERSONAL INFO
        </button>
        <button type="button" onclick="saveCompleteEnquiry()" style="background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%); color: white; padding: 16px 50px; font-size: 17px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 12px rgba(76,175,80,0.3);">
            ‚úÖ SAVE COMPLETE ENQUIRY
        </button>
    </div>

    </form>
    </div>
    </div>
<script>
    // FEE DATA
    const feeData = {
        'nursery': { admission: 27000, development: 5000, caution: 3000, tuition: 14645, annual: 6955, monthly: 2400 },
        '1': { admission: 30000, development: 5000, caution: 3000, tuition: 21296, annual: 9754, monthly: 3450 },
        '2': { admission: 30000, development: 5000, caution: 3000, tuition: 22634, annual: 13906, monthly: 4060 },
        '3': { admission: 30000, development: 5000, caution: 3000, tuition: 23954, annual: 15304, monthly: 4362 },
        '4': { admission: 30000, development: 5000, caution: 3000, tuition: 26620, annual: 17390, monthly: 4890 },
        '6': { admission: 41000, development: 5000, caution: 3000, tuition: 29280, annual: 17385, monthly: 5185 },
        '9': { admission: 55000, development: 5000, caution: 3000, tuition: 29286, annual: 23634, monthly: 5880 },
        '11sci': { admission: 62000, development: 5000, caution: 3000, tuition: 29280, annual: 25044, monthly: 6036 },
        '11sci2': { admission: 62000, development: 5000, caution: 3000, tuition: 29286, annual: 18090, monthly: 5264 },
        '11comm': { admission: 62000, development: 5000, caution: 3000, tuition: 29286, annual: 23526, monthly: 5868 },
        '11hum': { admission: 62000, development: 5000, caution: 3000, tuition: 29290, annual: 16700, monthly: 5110 }
    };

    function formatCurrency(amount) {
        return amount.toLocaleString('en-IN');
    }

    function calculateFees() {
        const selectedClass = document.getElementById('feeClass').value;
        const isSibling = document.getElementById('siblingDiscount').checked;
        const feeDisplay = document.getElementById('feeDisplay');

        if (!selectedClass) {
            feeDisplay.style.display = 'none';
            return;
        }

        feeDisplay.style.display = 'block';

        const fees = feeData[selectedClass];
        let admissionFee = fees.admission;
        let tuitionFee = fees.tuition;

        if (isSibling) {
            admissionFee = Math.round(fees.admission * 0.5);
            tuitionFee = Math.round(fees.tuition * 0.5);
        }

        const developmentFund = fees.development;
        const cautionMoney = fees.caution;
        const annualCharges = fees.annual;
        // Calculate monthly installment based on discounted tuition fee
        let monthlyInstallment = fees.monthly;
        if (isSibling) {
            // Monthly installment should be based on discounted tuition + annual charges / 9
            monthlyInstallment = Math.round((tuitionFee + annualCharges) / 9);
        }

        const totalAdmission = admissionFee + developmentFund + cautionMoney;
        const totalAnnual = tuitionFee + annualCharges;
        const grandTotal = totalAdmission + totalAnnual;

        const discount8Percent = Math.round(totalAnnual * 0.08);
        const discount5Percent = Math.round(totalAnnual * 0.05);
        const after8Discount = totalAdmission + (totalAnnual - discount8Percent);
        const after5Discount = totalAdmission + (totalAnnual - discount5Percent);

        document.getElementById('admissionFee').textContent = formatCurrency(admissionFee);
        document.getElementById('developmentFund').textContent = formatCurrency(developmentFund);
        document.getElementById('cautionMoney').textContent = formatCurrency(cautionMoney);
        document.getElementById('totalAdmission').textContent = formatCurrency(totalAdmission);

        document.getElementById('tuitionFee').textContent = formatCurrency(tuitionFee);
        document.getElementById('annualCharges').textContent = formatCurrency(annualCharges);
        document.getElementById('totalAnnual').textContent = formatCurrency(totalAnnual);
        document.getElementById('monthlyInstallment').textContent = formatCurrency(monthlyInstallment);

        document.getElementById('grandAdmission').textContent = formatCurrency(totalAdmission);
        document.getElementById('grandAnnual').textContent = formatCurrency(totalAnnual);
        document.getElementById('grandTotal').textContent = formatCurrency(grandTotal);

        document.getElementById('discount8').textContent = formatCurrency(discount8Percent);
        document.getElementById('after8Discount').textContent = formatCurrency(after8Discount);
        document.getElementById('discount5').textContent = formatCurrency(discount5Percent);
        document.getElementById('after5Discount').textContent = formatCurrency(after5Discount);
    }

    // AGE CALCULATION
    function calculateAge(dob, asOfDate) {
        const dobDate = new Date(dob);
        const refDate = asOfDate ? new Date(asOfDate) : new Date();

        let years = refDate.getFullYear() - dobDate.getFullYear();
        let months = refDate.getMonth() - dobDate.getMonth();
        let days = refDate.getDate() - dobDate.getDate();

        if (days < 0) {
            months--;
            days += new Date(refDate.getFullYear(), refDate.getMonth(), 0).getDate();
        }

        if (months < 0) {
            years--;
            months += 12;
        }

        return { years, months, days };
    }

    function updateAgeDisplays() {
        const dob = document.getElementById('dob').value;
        const selectedClass = document.getElementById('classApplied').value;

        if (!dob) {
            document.getElementById('ageDisplay').innerHTML = "-- Select DOB --";
            document.getElementById('ageAsOnGroup').style.display = 'none';
            return;
        }

        // Current age
        const currentAge = calculateAge(dob);
        document.getElementById('ageDisplay').innerHTML = `<strong>${currentAge.years}</strong> Years <strong>${currentAge.months}</strong> Months <strong>${currentAge.days}</strong> Days`;

        // Age as on specific date based on class
        const ageAsOnGroup = document.getElementById('ageAsOnGroup');
        const ageAsOnLabel = document.getElementById('ageAsOnLabel');
        const ageAsOnDisplay = document.getElementById('ageAsOnDisplay');
        const ageAsOnInfo = document.getElementById('ageAsOnInfo');

        if (selectedClass === 'NURSERY' || selectedClass === 'KG I' || selectedClass === 'KG II') {
            // Age as on 31 July 2026
            const ageAsOn31July = calculateAge(dob, '2026-07-31');
            ageAsOnGroup.style.display = 'block';
            ageAsOnLabel.textContent = 'AGE AS ON 31 JULY 2026';
            ageAsOnDisplay.innerHTML = `<strong>${ageAsOn31July.years}</strong> Y <strong>${ageAsOn31July.months}</strong> M <strong>${ageAsOn31July.days}</strong> D`;
            ageAsOnInfo.textContent = 'For Nursery, KG I & KG II admission';
        } else if (selectedClass === 'I') {
            // Age as on 30 Sept 2026
            const ageAsOn30Sept = calculateAge(dob, '2026-09-30');
            ageAsOnGroup.style.display = 'block';
            ageAsOnLabel.textContent = 'AGE AS ON 30 SEPT 2026';
            ageAsOnDisplay.innerHTML = `<strong>${ageAsOn30Sept.years}</strong> Y <strong>${ageAsOn30Sept.months}</strong> M <strong>${ageAsOn30Sept.days}</strong> D`;
            ageAsOnInfo.textContent = 'For Class I admission';
        } else {
            ageAsOnGroup.style.display = 'none';
        }
    }

    document.getElementById('dob').addEventListener('change', updateAgeDisplays);
    document.getElementById('classApplied').addEventListener('change', updateAgeDisplays);

    // AUTO-UPPERCASE
    document.querySelectorAll('.uppercase').forEach(input => {
        input.addEventListener('input', function () {
            this.value = this.value.toUpperCase();
        });
    });

    // SET TODAY'S DATE
    document.getElementById('date').valueAsDate = new Date();

    // ‚úÖ AUTO-GENERATE S.NO STARTING FROM 2026001
    window.addEventListener('load', function () {
        let records = JSON.parse(localStorage.getItem('enquiryRecords') || '[]');
        const nextNum = 2026001 + records.length;
        document.getElementById('sno').value = nextNum.toString();
    });

    // PRINT FUNCTION
    function printForm() {
        window.print();
    }

    // SAVE ENQUIRY FUNCTION
    
// LOAD PAGE 1 DATA AND POPULATE SUMMARY
window.addEventListener('load', function() {
    const page1Data = JSON.parse(localStorage.getItem('enquiryPage1') || '{}');

    // Populate summary
    document.getElementById('summary-sno').textContent = page1Data.sno || '-';
    document.getElementById('summary-date').textContent = page1Data.date ? 
        new Date(page1Data.date).toLocaleDateString('en-IN') : 'DD/MM/YYYY';
    document.getElementById('summary-student-name').textContent = 
        [page1Data.studentFirst, page1Data.studentMiddle, page1Data.studentSurname]
        .filter(Boolean).join(' ') || '-';
    document.getElementById('summary-class').textContent = page1Data.classApplied || '-';
    document.getElementById('summary-father').textContent = 
        [page1Data.fatherFirst, page1Data.fatherMiddle, page1Data.fatherSurname]
        .filter(Boolean).join(' ') || '-';
    document.getElementById('summary-mobile').textContent = page1Data.fatherMobile || '-';

    // Auto-trigger fee calculation
    if (page1Data.classApplied) {
        const feeClassField = document.getElementById('feeClass');
        if (feeClassField) {
            // Map classApplied to feeClass options
            const classMap = {
                'NURSERY': 'nursery',
                'KG I': 'nursery',
                'KG II': 'nursery',
                'I': '1',
                'II': '2',
                'III': '3',
                'IV': '4',
                'V': '4',
                'VI': '6',
                'VII': '6',
                'VIII': '6',
                'IX': '9',
                'X': '9',
                'XI': '11sci',
                'XII': '11sci'
            };
            feeClassField.value = classMap[page1Data.classApplied] || '';
            setTimeout(function() {
                if (typeof calculateFees === 'function') calculateFees();
            }, 300);
        }
    }

    console.log('‚úÖ Page 2 loaded with Page 1 data');
});

function saveCompleteEnquiry() {
    const page1Data = JSON.parse(localStorage.getItem('enquiryPage1') || '{}');
    const form = document.getElementById('enquiryForm');
    const formData = new FormData(form);
    const page2Data = {};
    for (let [key, value] of formData.entries()) {
        page2Data[key] = value;
    }

    // Merge both pages
    const completeData = {...page1Data, ...page2Data};
    completeData.recordId = 'ENQ-' + Date.now();
    completeData.submittedDate = new Date().toLocaleDateString('en-IN');
    completeData.submittedTime = new Date().toLocaleTimeString('en-IN');
    completeData.timestamp = new Date().toISOString();

    // Add fee details
    completeData.feeClass = document.getElementById('feeClass')?.value || '';
    completeData.grandTotal = document.getElementById('grandTotal')?.textContent || '0';
    completeData.currentAge = document.getElementById('ageDisplay')?.textContent || '';

    // Get document checkboxes
    for (let i = 1; i <= 10; i++) {
        const doc = document.getElementById('doc' + i);
        if (doc && doc.checked) {
            completeData['doc' + i] = doc.value;
        }
    }

    // Save to localStorage
    let enquiries = JSON.parse(localStorage.getItem('enquiryRecords') || '[]');
    enquiries.unshift(completeData);
    localStorage.setItem('enquiryRecords', JSON.stringify(enquiries));
    localStorage.setItem('currentEnquiry', JSON.stringify(completeData));

    alert('‚úÖ SUCCESS! Complete Enquiry Saved!\nID: ' + completeData.recordId);
    console.log('‚úÖ Complete enquiry saved:', completeData);

    // Clear Page 1 data
    localStorage.removeItem('enquiryPage1');

    return true;
}

function saveEnquiry() {

        console.log('Saving Enquiry...');

        try {
            const form = document.getElementById('enquiryForm');

            // Validate using HTML5 validation
            if (!form.checkValidity()) {
                form.reportValidity();
                return false;
            }

            // Get ALL form data using FormData
            const formData = new FormData(form);
            const enquiryData = {};

            // Convert FormData to object
            for (let [key, value] of formData.entries()) {
                enquiryData[key] = value;
            }

            // Add metadata
            enquiryData.submittedDate = new Date().toLocaleDateString('en-IN');
            enquiryData.submittedTime = new Date().toLocaleTimeString('en-IN');
            enquiryData.recordId = 'ENQ-' + Date.now();

            // Add fee details from calculator
            enquiryData.feeClass = document.getElementById('feeClass').value;
            enquiryData.grandTotal = document.getElementById('grandTotal').textContent;
            enquiryData.currentAge = document.getElementById('ageDisplay').textContent;
            enquiryData.timestamp = new Date().toISOString();

            // Get existing enquiries
            let enquiries = JSON.parse(localStorage.getItem('enquiryRecords') || '[]');

            // Add new enquiry
            enquiries.unshift(enquiryData);

            // Save to localStorage
            localStorage.setItem('enquiryRecords', JSON.stringify(enquiries));

            // Also save as current for registration
            localStorage.setItem('currentEnquiry', JSON.stringify(enquiryData));

            console.log('Enquiry saved successfully!', enquiryData);
            alert(`‚úÖ SUCCESS! Enquiry saved successfully! ID: ${enquiryData.recordId}`);

            return true;
        } catch (error) {
            console.error('Error saving enquiry:', error);
            alert('‚ùå ERROR: Failed to save - ' + error.message);
            return false;
        }
    }

    // PROCEED TO REGISTRATION
    function proceedToRegistration() {
        console.log('proceedToRegistration called');

        // IMPORTANT: First save the enquiry data
        const saved = saveEnquiry();

        if (saved === true) {
            console.log('Data saved successfully, proceeding to registration...');
            alert('Proceeding to Registration Form... (enquiry data will be automatically filled!)');

            // Small delay to ensure data is saved, then redirect
            setTimeout(function () {
                window.location.href = 'TESTED_3_registration-1.html';
            }, 500);
        } else {
            console.log('Save failed, not proceeding to registration');
        }
    }

    console.log('‚úÖ ENQUIRY FORM LOADED SUCCESSFULLY!');
</script>

</body>
</html>
